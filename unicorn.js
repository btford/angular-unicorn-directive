/*
 * angular-unicorn-directive v0.0.1
 * (c) 2013 Brian Ford http://briantford.com
 * License: MIT
 */

angular.module('unicorn-directive', []).
  directive('unicorn', function () {

    // Based on "Invisible Pink Unicorn SVG"
    // http://en.wikipedia.org/wiki/File:Invisible_Pink_Unicorn.svg
    // used under CCA 2.5

    // canvas draw code automagically generated from canvg
    // https://code.google.com/p/canvg/
    var draw = function(ctx) {
      ctx.save();
      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.lineTo(236.10677,0);
      ctx.lineTo(236.10677,157.18086);
      ctx.lineTo(0,157.18086);
      ctx.closePath();
      ctx.clip();
      ctx.strokeStyle = 'rgba(0,0,0,0)';
      ctx.lineCap = 'butt';
      ctx.lineJoin = 'miter';
      ctx.miterLimit = 4;
      ctx.save();
      ctx.restore();
      ctx.save();
      ctx.restore();
      ctx.save();
      ctx.translate(-13.44662,-12.909571);
      ctx.save();
      g=ctx.createLinearGradient(52.086075,43.064625,237.03638,108.04962);
      g.addColorStop(0,"rgba(255, 192, 203, 1)");
      g.addColorStop(0.11504425,"rgba(255, 192, 203, 1)");
      g.addColorStop(0.28733653,"rgba(255, 192, 203, 1)");
      g.addColorStop(1,"rgba(255, 192, 203, 1)");
      ctx.fillStyle = g;
      ctx.beginPath();
      ctx.moveTo(178.19663,169.89899);
      ctx.bezierCurveTo(174.02871,168.73791,178.78745,160.57526,183.65118,160.54282);
      ctx.bezierCurveTo(188.34077,160.51153,188.70956,159.5331,188.29123,148.23219);
      ctx.bezierCurveTo(187.83836,135.9981,187.61601,135.62017,176.40619,128.03075);
      ctx.bezierCurveTo(168.25205,122.51013,161.87331,115.1573,158.90733,107.85965);
      ctx.bezierCurveTo(157.68684,104.85671,156.2964,102.03847,155.81745,101.59688);
      ctx.bezierCurveTo(155.3385,101.15529,149.99663,101.1763,143.94663,101.64358);
      ctx.bezierCurveTo(136.8594,102.19096,130.81239,102.11987,126.94663,101.44371);
      ctx.bezierCurveTo(120.99554,100.40282,118.45086,99.323519,104.94663,92.112637);
      ctx.bezierCurveTo(98.134816,88.475323,97.744996,88.392208,90.446627,89.021082);
      ctx.bezierCurveTo(86.321617,89.376519,80.410127,90.14127,77.309967,90.720529);
      ctx.bezierCurveTo(71.859677,91.738905,71.653397,91.894147,71.070977,95.415919);
      ctx.bezierCurveTo(69.498487,104.92432,71.320527,110.55813,75.968137,110.55813);
      ctx.bezierCurveTo(77.325517,110.55813,78.827937,111.40211,79.411437,112.49239);
      ctx.bezierCurveTo(80.759827,115.01188,80.752127,122.55813,79.401167,122.55813);
      ctx.bezierCurveTo(78.173437,122.55813,73.446617,118.01871,73.446617,116.83965);
      ctx.bezierCurveTo(73.446617,116.39449,71.759117,114.98647,69.696617,113.71072);
      ctx.lineTo(65.946617,111.39118);
      ctx.lineTo(65.724197,99.857369);
      ctx.bezierCurveTo(65.601867,93.513779,65.935627,87.512922,66.465877,86.522126);
      ctx.bezierCurveTo(66.996137,85.531331,68.896227,84.427418,70.688307,84.068987);
      ctx.bezierCurveTo(76.558677,82.894858,83.446617,80.416148,83.446617,79.477749);
      ctx.bezierCurveTo(83.446617,78.971951,83.012457,78.558116,82.481807,78.558116);
      ctx.bezierCurveTo(81.098577,78.558116,79.681027,75.555658,77.978867,69.020607);
      ctx.bezierCurveTo(76.761077,64.345183,76.701617,62.108185,77.648417,56.586882);
      ctx.bezierCurveTo(78.716417,50.358773,78.639717,49.541164,76.624777,45.675411);
      ctx.bezierCurveTo(75.426787,43.377026,74.446617,40.696394,74.446617,39.718452);
      ctx.bezierCurveTo(74.446617,38.74051,73.785937,37.066867,72.978427,35.999246);
      ctx.bezierCurveTo(71.207607,33.658021,71.093777,34.247499,72.524267,38.351019);
      ctx.bezierCurveTo(73.347687,40.71307,73.221337,43.308315,71.988707,49.351758);
      ctx.bezierCurveTo(71.019657,54.102929,70.637277,58.89823,71.031097,61.361025);
      ctx.bezierCurveTo(71.782667,66.061096,70.120597,68.558116,66.240557,68.558116);
      ctx.bezierCurveTo(62.195687,68.558116,59.692527,65.931965,58.518217,60.456334);
      ctx.bezierCurveTo(57.916067,57.648624,55.547787,51.685416,53.255367,47.204761);
      ctx.bezierCurveTo(50.962937,42.724106,48.800547,38.413125,48.450047,37.624803);
      ctx.bezierCurveTo(48.099547,36.836482,46.267897,35.671333,44.379697,35.035584);
      ctx.bezierCurveTo(41.737947,34.146114,40.946617,33.323992,40.946617,31.468896);
      ctx.bezierCurveTo(40.946617,29.297332,41.313867,29.090128,44.647637,29.380731);
      ctx.lineTo(48.348657,29.703346);
      ctx.lineTo(47.414747,26.446962);
      ctx.bezierCurveTo(46.186547,22.164507,46.841387,21.734529,50.486867,24.429748);
      ctx.lineTo(53.502507,26.659312);
      ctx.lineTo(56.048587,24.656568);
      ctx.bezierCurveTo(57.448927,23.555058,59.926387,20.815437,61.554047,18.568519);
      ctx.bezierCurveTo(65.413457,13.240748,67.868867,12.380139,75.416787,13.70968);
      ctx.bezierCurveTo(80.056457,14.526942,81.825717,14.488385,82.962117,13.54525);
      ctx.bezierCurveTo(83.778597,12.867637,84.439727,12.705826,84.431307,13.18567);
      ctx.bezierCurveTo(84.405367,14.663384,83.036167,16.17086,81.053497,16.904595);
      ctx.bezierCurveTo(77.313927,18.288511,80.443707,18.758295,85.431507,17.56174);
      ctx.bezierCurveTo(90.308987,16.391651,90.690737,16.455284,94.4587,19.066482);
      ctx.bezierCurveTo(97.249096,21.00023,99.257746,21.666067,101.36702,21.356491);
      ctx.bezierCurveTo(105.12239,20.80532,104.28119,22.311467,99.784236,24.190413);
      ctx.bezierCurveTo(97.904206,24.975939,96.625206,26.038055,96.942026,26.550669);
      ctx.bezierCurveTo(97.290156,27.113959,98.459946,27.053537,99.898816,26.397945);
      ctx.bezierCurveTo(101.72295,25.566816,103.3929,25.692536,107.04125,26.935656);
      ctx.bezierCurveTo(109.66016,27.828009,112.84775,28.558116,114.12477,28.558116);
      ctx.bezierCurveTo(117.34559,28.558116,117.02609,30.207105,113.44663,32.058116);
      ctx.bezierCurveTo(111.79663,32.911364,110.44663,33.801719,110.44663,34.036681);
      ctx.bezierCurveTo(110.44663,34.271644,112.62217,34.206225,115.28117,33.891307);
      ctx.bezierCurveTo(119.72406,33.365112,120.50534,33.616141,124.92541,36.990058);
      ctx.bezierCurveTo(127.57075,39.009291,130.34521,40.427277,131.09087,40.141138);
      ctx.bezierCurveTo(133.58189,39.185246,132.48399,40.487435,129.49629,42.032436);
      ctx.bezierCurveTo(127.8736,42.87156,125.6236,43.558116,124.49629,43.558116);
      ctx.bezierCurveTo(121.55384,43.558116,121.92293,45.114877,126.54871,52.214791);
      ctx.bezierCurveTo(130.95208,58.97335,136.12303,62.347906,145.44663,64.547567);
      ctx.bezierCurveTo(160.30383,68.052736,169.33874,70.446594,172.1568,71.624605);
      ctx.bezierCurveTo(174.94561,72.790386,175.83397,72.743832,178.92478,71.269929);
      ctx.bezierCurveTo(180.95666,70.300989,182.9502,68.390616,183.57289,66.815724);
      ctx.bezierCurveTo(185.90206,60.924864,187.45858,58.97517,191.62567,56.728827);
      ctx.bezierCurveTo(197.63021,53.491978,205.74458,54.040611,209.07149,57.908384);
      ctx.bezierCurveTo(211.44005,60.66199,211.60476,61.337988,213.4076,75.704029);
      ctx.bezierCurveTo(214.88499,87.47668,216.9591,93.933259,220.59315,98.072209);
      ctx.bezierCurveTo(223.44233,101.31726,224.06346,101.55812,229.58234,101.55812);
      ctx.bezierCurveTo(237.08462,101.55812,242.05682,99.540909,246.25001,94.796079);
      ctx.lineTo(249.55339,91.058116);
      ctx.lineTo(247.94933,95.058119);
      ctx.bezierCurveTo(246.29101,99.193429,241.44372,104.89611,237.94663,106.82599);
      ctx.bezierCurveTo(236.84663,107.43302,233.69663,108.48282,230.94663,109.15886);
      ctx.lineTo(225.94663,110.38804);
      ctx.lineTo(232.05571,110.47308);
      ctx.bezierCurveTo(236.87662,110.5402,239.34049,109.96509,243.74052,107.74567);
      ctx.bezierCurveTo(248.74774,105.21998,249.20709,105.13719,248.24562,106.93372);
      ctx.bezierCurveTo(246.47458,110.24294,238.4029,118.42204,234.5711,120.79022);
      ctx.bezierCurveTo(231.69491,122.5678,229.45938,123.013,223.30877,123.03308);
      ctx.bezierCurveTo(216.20468,123.05627,215.34952,122.82816,211.79078,119.96077);
      ctx.bezierCurveTo(209.6765,118.25722,203.24085,117.17997,201.94663,107.20774);
      ctx.bezierCurveTo(201.2171,101.58655,201.94663,89.561592,201.94663,89.561592);
      ctx.bezierCurveTo(201.94663,89.561592,203.72566,79.371761,201.32261,72.046313);
      ctx.bezierCurveTo(199.45,66.337852,193.19646,63.482012,189.00707,70.031087);
      ctx.bezierCurveTo(187.08151,73.041221,184.65137,76.037815,183.60676,76.690184);
      ctx.bezierCurveTo(181.76323,77.841489,181.77953,78.015188,184.1619,82.607098);
      ctx.bezierCurveTo(187.61375,89.260398,188.03464,96.962279,185.58005,108.55813);
      ctx.lineTo(183.56911,118.05813);
      ctx.lineTo(186.00804,121.61213);
      ctx.bezierCurveTo(187.34946,123.56683,190.0219,126.69261,191.9468,128.5583);
      ctx.bezierCurveTo(195.9045,132.39424,196.0382,133.5785,194.79944,153.82443);
      ctx.bezierCurveTo(194.23996,162.96854,193.90119,164.4675,192.29944,164.88637);
      ctx.bezierCurveTo(191.2804,165.15286,190.44663,166.0577,190.44663,166.89712);
      ctx.bezierCurveTo(190.44663,167.73655,189.65913,168.65469,188.69663,168.93742);
      ctx.bezierCurveTo(185.46457,169.88686,179.96198,170.39077,178.19663,169.89899);
      ctx.closePath();
      ctx.moveTo(55.446617,44.435671);
      ctx.bezierCurveTo(55.446617,42.63358,55.213077,42.507054,53.899287,43.5974);
      ctx.bezierCurveTo(52.663387,44.623103,52.613067,45.047214,53.649287,45.704532);
      ctx.bezierCurveTo(55.433577,46.836388,55.446617,46.827179,55.446617,44.435671);
      ctx.closePath();
      ctx.moveTo(129.69663,159.54999);
      ctx.bezierCurveTo(128.45913,159.03991,127.44663,158.12346,127.44663,157.51343);
      ctx.bezierCurveTo(127.44663,155.77523,133.10401,150.55813,134.9889,150.55813);
      ctx.bezierCurveTo(137.08919,150.55813,147.97832,144.14513,151.69663,140.71834);
      ctx.bezierCurveTo(156.40825,136.37613,155.30327,130.6279,147.89004,120.91605);
      ctx.bezierCurveTo(144.93486,117.04456,140.59067,106.08075,141.60854,105.06289);
      ctx.bezierCurveTo(141.79935,104.87207,144.64567,104.56794,147.9337,104.38704);
      ctx.lineTo(153.91192,104.05813);
      ctx.lineTo(157.10311,110.05813);
      ctx.bezierCurveTo(161.19743,117.75614,160.86154,116.98781,163.44197,124.55813);
      ctx.bezierCurveTo(167.39208,136.14669,167.45977,135.78204,160.34706,141.22994);
      ctx.bezierCurveTo(156.88006,143.88545,152.44665,147.44559,150.49503,149.14138);
      ctx.bezierCurveTo(148.54341,150.83716,146.15238,152.51313,145.18162,152.86575);
      ctx.bezierCurveTo(144.21087,153.21837,143.00113,154.5997,142.49331,155.93537);
      ctx.bezierCurveTo(141.98549,157.27103,141.20474,158.58066,140.75831,158.84564);
      ctx.bezierCurveTo(138.88799,159.9558,131.77932,160.40844,129.69663,159.54999);
      ctx.closePath();
      ctx.moveTo(38.446617,115.49603);
      ctx.bezierCurveTo(38.446617,113.23559,41.213087,104.23857,42.889827,101.04592);
      ctx.bezierCurveTo(43.471067,99.939197,46.049387,95.880929,48.619437,92.027531);
      ctx.bezierCurveTo(51.189487,88.174134,53.572717,83.904626,53.915507,82.539735);
      ctx.bezierCurveTo(54.440207,80.450518,56.073177,79.522496,64.242687,76.670757);
      ctx.bezierCurveTo(69.579847,74.80771,74.419257,73.106547,74.996927,72.890397);
      ctx.bezierCurveTo(75.574597,72.674246,76.771877,74.01698,77.657547,75.87425);
      ctx.lineTo(79.267857,79.251104);
      ctx.lineTo(70.107237,82.020787);
      ctx.bezierCurveTo(59.574507,85.205324,57.539217,86.74503,54.010317,94.198179);
      ctx.bezierCurveTo(52.397107,97.605329,50.555677,99.946357,49.033677,100.52502);
      ctx.bezierCurveTo(45.793497,101.75695,45.044447,104.65983,46.851057,108.98365);
      ctx.lineTo(48.343667,112.55598);
      ctx.lineTo(44.663007,115.05706);
      ctx.bezierCurveTo(40.187847,118.09801,38.446617,118.22097,38.446617,115.49603);
      ctx.closePath();
      ctx.moveTo(33.681887,31.249891);
      ctx.bezierCurveTo(29.586874,29.422645,31.205427,26.09302,35.577327,27.350654);
      ctx.bezierCurveTo(37.689077,27.958122,37.886897,28.354169,36.976917,30.152706);
      ctx.bezierCurveTo(36.104617,31.87679,35.521767,32.070868,33.681887,31.249891);
      ctx.closePath();
      ctx.moveTo(26.281764,28.796255);
      ctx.bezierCurveTo(23.462976,28.200291,23.166967,25.558115,25.918988,25.558115);
      ctx.bezierCurveTo(27.244267,25.558115,28.550451,25.917101,28.82162,26.355861);
      ctx.bezierCurveTo(29.632943,27.66861,28.066599,29.173615,26.281764,28.796255);
      ctx.closePath();
      ctx.moveTo(18.44662,25.0895);
      ctx.bezierCurveTo(18.44662,24.194907,19.032909,23.845865,19.94662,24.196489);
      ctx.bezierCurveTo(21.887827,24.9414,21.887827,26.558115,19.94662,26.558115);
      ctx.bezierCurveTo(19.12162,26.558115,18.44662,25.897238,18.44662,25.0895);
      ctx.closePath();
      ctx.moveTo(13.44662,23.5895);
      ctx.bezierCurveTo(13.44662,23.056761,14.12162,22.879906,14.94662,23.196489);
      ctx.bezierCurveTo(16.86729,23.933519,16.86729,24.558115,14.94662,24.558115);
      ctx.bezierCurveTo(14.12162,24.558115,13.44662,24.122238,13.44662,23.5895);
      ctx.closePath();
      ctx.fill();
      ctx.stroke();
      ctx.restore();
      ctx.restore();
      ctx.restore();
    };

    return {
      restrict: 'E',
      template: '<canvas width="236" height="157"></canvas>',
      link: function (scope, elt, attr) {
        var canvas = elt.find('canvas')[0];
        var context = canvas.getContext('2d');
        draw(context);
      }
    };
  });
